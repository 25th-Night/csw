{% extends "url/base.html" %}
{% load static %}

{% block title %}
    Url
{% endblock %}

{% block style%}
    <link rel="stylesheet" type="text/css" href="https://npmcdn.com/flatpickr/dist/themes/dark.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.4/dist/css/datepicker.min.css">
    <link href="https://cdn.jsdelivr.net/npm/mc-datepicker/dist/mc-calendar.min.css" rel="stylesheet" />
{% endblock %}

{% block inner_content %}
<div class="flex flex-col items-start justify-between my-2 title-wrap">
    <div class="flex justify-between w-full title-wrap">
        <div class="font-semibold title">Url Shortener</div>
        <img src="{% static 'img/icon/submit01.png' %}" alt="submit" class="block h-12 cursor-pointer" tabindex="5" id="make_btn_url">
    </div>
    <form class="flex flex-col w-full mt-4 url-form sm:flex-row">
        <div class="flex mb-4 input-first sm:w-3/5">
            <div class="w-full mx-2 form-field">
                <div class="flex label-wrap">
                    <label for="url-target" class="block mb-3 mr-2 font-semibold">Target Url</label>
                    <div class="self-center hidden text-sm text-[yellow] make-url-error"></div>
                </div>
                <input type="text" id="url_target" name="url-target" autocomplete="off" autofocus tabindex="1" class="block w-full p-1 outline-none"
                placeholder="Target Url">
            </div>
            {% if url_license > 1 %}
                <div class="mx-2 form-field">
                    <label for="url-nickname" class="block mb-3 font-semibold">Nickname</label>
                    <input type="text" id="url_nickname" name="url-nickname" autocomplete="off" autofocus tabindex="2" class="block w-full p-1 outline-none"
                    placeholder="Nickname">
                </div>
            {% endif %}
        </div>
        <div class="flex mb-4 sm:w-2/5 input-second">
            <div class="w-3/5 mx-2 form-field">
                <label for="url-expire" class="block mb-3 font-semibold">Expire</label>
                <div class="flex items-center date-wrap">
                    <input type="date" id="url_expire" name="url-expire" autocomplete="off" autofocus tabindex="3" class="p-1 outline-none w-28"
                    placeholder="Expire">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="hidden w-6 h-6 p-1 cursor-pointer" id="clearDate">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </div>
            </div>
            <div class="w-2/5 mx-2 form-field">
                <label for="url-access" class="block mb-3 font-semibold">Access</label>
                <select id="url_access" name="url-access" class="w-24 p-1 outline-none" autofocus tabindex="4" placeholder="Access">
                    <option value="1" class="text-sm checked:bg-black checked:text-white w-28">Public</option>
                    <option value="2" class="text-sm checked:bg-black checked:text-white w-28">Private</option>
                    <option value="3" class="text-sm checked:bg-black checked:text-white w-28">Secret</option>
                </select>
            </div>
        </div>
    </form>    
</div>
<hr class="my-5">
<div class="list-wrap h-[600px]">
    <div class="mb-4 title">Url List</div>
    <div class="flex w-full text-sm font-semibold content md:flex-row md:text-base">
            <div class="w-[40%] text-center md:w-[25%]">Shortened Url</div>
            <div class="w-[30%] text-center md:w-[25%]">Nickname</div>
            <div class="hidden md:block md:w-[10%] text-center">Access</div>
            <div class="hidden md:block md:w-[10%] text-center">Clicked</div>
            <div class="w-[15%] md:w-[10%] text-center">Open</div>
            <div class="w-[15%] md:w-[10%] text-center">Copy</div>
            <div class="hidden md:block md:w-[10%] text-center">Remove</div>
    </div>
    <div class="flex justify-end mb-2" id="url_list">
        <div class="self-center hidden text-sm text-[yellow] list-url-error"></div>
    </div>
</div>

{% endblock %}

{% block include_js %}
<script src="https://cdn.jsdelivr.net/npm/flatpickr" defer></script>
<script src="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.4/dist/js/datepicker-full.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mc-datepicker/dist/mc-calendar.min.js"></script>
<script type="module" src="{% static 'js/url.js' %}" defer></script>
{% endblock %}